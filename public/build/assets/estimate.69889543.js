import{u as m}from"./main.7517962b.js";import{a as o}from"./vendor.01d0adc5.js";import{h as c}from"./auth.b209127f.js";const{defineStore:n}=window.pinia,f=n({id:"customerEstimateStore",state:()=>({estimates:[],totalEstimates:0,selectedViewEstimate:[]}),actions:{fetchEstimate(e,a){return new Promise((s,i)=>{o.get(`/api/v1/${a}/customer/estimates`,{params:e}).then(t=>{this.estimates=t.data.data,this.totalEstimates=t.data.meta.estimateTotalCount,s(t)}).catch(t=>{c(t),i(t)})})},fetchViewEstimate(e,a){return new Promise((s,i)=>{o.get(`/api/v1/${a}/customer/estimates/${e.id}`,{params:e}).then(t=>{this.selectedViewEstimate=t.data.data,s(t)}).catch(t=>{c(t),i(t)})})},searchEstimate(e,a){return new Promise((s,i)=>{o.get(`/api/v1/${a}/customer/estimates`,{params:e}).then(t=>{this.estimates=t.data,s(t)}).catch(t=>{c(t),i(t)})})},acceptEstimate(e,a){return new Promise((s,i)=>{o.post(`/api/v1/${e}/customer/estimate/${a}/accept`).then(t=>{m(!0).showNotification({type:"success",message:"Estimate Accepted successfully"}),s(t)}).catch(t=>{c(t),i(t)})})}}});export{f as u};
