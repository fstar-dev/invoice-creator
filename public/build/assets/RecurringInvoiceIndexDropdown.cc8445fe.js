import{g as N,u as E,C as b,am as k,r as c,o as n,s as a,w as o,y as t,b as s,v as f,x as v,A as I}from"./vendor.e9042f2c.js";import{B as C,u as x,i as S,d as V,e as _}from"./main.366b2ac6.js";const O={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(d){const g=C(),y=x(),R=S(),m=V(),{t:r}=N(),w=E();b(),k("utils");async function B(i=null){R.openDialog({title:r("general.are_you_sure"),message:r("invoices.confirm_delete"),yesLabel:r("general.ok"),noLabel:r("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async l=>{l&&await g.deleteMultipleRecurringInvoices(i).then(e=>{e.data.success?(g.$patch(u=>{u.selectedRecurringInvoices=[],u.selectAllField=!1}),y.showNotification({type:"success",message:r("recurring_invoices.deleted_message",2)})):e.data.error&&y.showNotification({type:"error",message:e.data.message})})})}return(i,l)=>{const e=c("BaseIcon"),u=c("BaseButton"),p=c("BaseDropdownItem"),h=c("router-link"),D=c("BaseDropdown");return n(),a(D,{"content-loading":t(g).isFetchingViewData},{activator:o(()=>[t(w).name==="recurring-invoices.view"?(n(),a(u,{key:0,variant:"primary"},{default:o(()=>[s(e,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(n(),a(e,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[t(m).hasAbilities(t(_).EDIT_RECURRING_INVOICE)?(n(),a(h,{key:0,to:`/admin/recurring-invoices/${d.row.id}/edit`},{default:o(()=>[s(p,null,{default:o(()=>[s(e,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),f(" "+v(i.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):I("",!0),t(w).name!=="recurring-invoices.view"&&t(m).hasAbilities(t(_).VIEW_RECURRING_INVOICE)?(n(),a(h,{key:1,to:`recurring-invoices/${d.row.id}/view`},{default:o(()=>[s(p,null,{default:o(()=>[s(e,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),f(" "+v(i.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):I("",!0),t(m).hasAbilities(t(_).DELETE_RECURRING_INVOICE)?(n(),a(p,{key:2,onClick:l[0]||(l[0]=$=>B(d.row.id))},{default:o(()=>[s(e,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),f(" "+v(i.$t("general.delete")),1)]),_:1})):I("",!0)]),_:1},8,["content-loading"])}}};export{O as _};
